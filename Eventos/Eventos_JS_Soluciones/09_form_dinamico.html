
<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>Ejercicio 9 – Formularios dinámicos</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; padding: 2rem; }
    .campo { display:block; margin:.4rem 0; }
    .error { color:#c00; }
    .ok { color:#070; }
  </style>
</head>
<body>
  <h1>Ejercicio 9 – Formularios dinámicos</h1>
  <form id="dinamico">
    <div id="campos"></div>
    <button type="button" id="addField">Añadir campo</button>
    <button type="submit">Enviar</button>
  </form>
  <p id="mensaje"></p>

  <script>
    (function(){
      const form = document.getElementById('dinamico');
      const cont = document.getElementById('campos');
      const add = document.getElementById('addField');
      const msg = document.getElementById('mensaje');

      function crearCampo(){
        const input = document.createElement('input');
        input.type = 'text';
        input.placeholder = 'Escribe algo';
        input.className = 'campo';
        cont.appendChild(input);
      }

      add.addEventListener('click', function(){ crearCampo(); });
      crearCampo();

      form.addEventListener('submit', function(e){
        e.preventDefault();
        let ok = true;
        const inputs = cont.querySelectorAll('input');
        for (let i=0; i<inputs.length; i++){
          if (inputs[i].value.trim() === ''){
            ok = false;
          }
        }
        if (!ok){
          msg.textContent = 'Todos los campos deben estar completos.';
          msg.className = 'error';
        } else {
          msg.textContent = 'Formulario válido. (Simulación de envío)';
          msg.className = 'ok';
        }
      });
    })();
  </script>
</body>
</html>
